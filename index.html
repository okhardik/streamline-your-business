<script>
    // --- SMART SCRIPT INITIALIZATION ---
    const isMobile = window.matchMedia("(max-width: 768px)").matches;

    // --- 1. DESKTOP-ONLY: INTERACTIVE CURSOR SCRIPT ---
    if (!isMobile) {
        const cursorGlow = document.getElementById('cursor-glow');
        const cursorDot = document.getElementById('cursor-dot');
        window.addEventListener('mousemove', (e) => {
            const { clientX, clientY } = e;
            cursorGlow.style.left = `${clientX}px`;
            cursorGlow.style.top = `${clientY}px`;
            cursorDot.style.left = `${clientX}px`;
            cursorDot.style.top = `${clientY}px`;
        });
    }

    // --- 2. DESKTOP-ONLY: DYNAMIC BACKGROUND SCRIPT ---
    if (!isMobile) {
        const canvas = document.getElementById('background-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let particlesArray;

        class Particle {
            constructor(x, y, directionX, directionY, size) {
                this.x = x; this.y = y; this.directionX = directionX; this.directionY = directionY; this.size = size;
            }
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);
                ctx.fillStyle = 'rgba(0, 170, 255, 0.1)';
                ctx.fill();
            }
            update() {
                if (this.x > canvas.width || this.x < 0) { this.directionX = -this.directionX; }
                if (this.y > canvas.height || this.y < 0) { this.directionY = -this.directionY; }
                this.x += this.directionX; this.y += this.directionY; this.draw();
            }
        }

        function init() {
            particlesArray = [];
            let numberOfParticles = (canvas.height * canvas.width) / 15000;
            for (let i = 0; i < numberOfParticles; i++) {
                let size = (Math.random() * 2) + 1;
                let x = (Math.random() * ((innerWidth - size * 2) - (size * 2)) + size * 2);
                let y = (Math.random() * ((innerHeight - size * 2) - (size * 2)) + size * 2);
                let directionX = (Math.random() * 0.4) - 0.2;
                let directionY = (Math.random() * 0.4) - 0.2;
                particlesArray.push(new Particle(x, y, directionX, directionY, size));
            }
        }

        function animate() {
            requestAnimationFrame(animate);
            ctx.clearRect(0, 0, innerWidth, innerHeight);
            for (let i = 0; i < particlesArray.length; i++) { particlesArray[i].update(); }
        }
        
        window.addEventListener('resize', () => { canvas.width = innerWidth; canvas.height = innerHeight; init(); });
        init();
        animate();
    }


    // --- 3. SCROLL REVEAL SCRIPT (Works on all devices) ---
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) { entry.target.classList.add('visible'); }
        });
    }, { threshold: 0.1 });

    document.querySelectorAll('.scroll-reveal').forEach((el) => observer.observe(el));


    // --- 4. LANGUAGE TOGGLE SCRIPT (NEW AND IMPROVED) ---
    const translations = {
        hi: {
            heroTitle: "<span>рдСрдЯреЛрдореЗрд╢рди</span> рдХреЛ рджреАрдЬрд┐рдП рдЬрд╝рд┐рдореНрдореЗрджрд╛рд░реА",
            heroSub: "рдореИрдВ рдЖрдкрдХреА рдмрд┐реЫрдиреЗрд╕ рдкреНрд░реЛрд╕реЗрд╕ рдХреЛ рдЖрд╕рд╛рди рдФрд░ рдСрдЯреЛрдореЗрдЯ рдХрд░рддрд╛ рд╣реВрдБ тАФ Google Sheets, WhatsApp рдФрд░ APIs рдЬреИрд╕реЗ рдЯреВрд▓реНрд╕ рд╕реЗред",
            service1: "ЁЯза рд╕реНрдорд╛рд░реНрдЯ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ",
            desc1: "рдЗрдирд╡реЙрдЗрд╕ рдЬрдирд░реЗрд╢рди, рд▓реАрдб рдлреЙрд▓реЛрдЕрдкреНрд╕, рдСрдирдмреЛрд░реНрдбрд┐рдВрдЧ тАФ рд╕рдм рдХреБрдЫ рдСрдЯреЛрдореИрдЯрд┐рдХред",
            service2: "ЁЯдЦ рд╡реНрд╣рд╛рдЯреНрд╕рдПрдк рдмреЙрдЯ",
            desc2: "Google Sheets рд╕реЗ WhatsApp рдореИрд╕реЗрдЬ рднреЗрдЬреЗрдВ, рд░рд┐рдорд╛рдЗрдВрдбрд░ рд╕реЗрдЯ рдХрд░реЗрдВ тАФ рд╡реЛ рднреА рдЕрдкрдиреЗ рдирдВрдмрд░ рд╕реЗред",
            service3: "ЁЯУК рд▓рд╛рдЗрд╡ рдбреИрд╢рдмреЛрд░реНрдб",
            desc3: "рдСрдкрд░реЗрд╢рди, рдкреЗрдореЗрдВрдЯреНрд╕, рдХреНрд▓рд╛рдЗрдВрдЯ рдПрдХреНрдЯрд┐рд╡рд┐рдЯреА тАФ рд╕рдм рдХреБрдЫ рд▓рд╛рдЗрд╡ рджреЗрдЦреЗрдВред",
            service4: "ЁЯФЧ рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди",
            desc4: "CRM, ERP, рдкреЗрдореЗрдВрдЯ рдЧреЗрдЯрд╡реЗ тАФ рд╕рдм рдХреБрдЫ рдЬреЛреЬрддреЗ рд╣реИрдВ, рддрд╛рдХрд┐ рдЖрдк рдЪрд┐рдВрддрд╛ рдореБрдХреНрдд рд░рд╣реЗрдВред"
        }
    };

    function handleLanguageToggle() {
        const toggle = document.getElementById('lang-toggle');
        if (toggle.checked) {
            // Switch to Hindi
            const t = translations.hi;
            document.getElementById('heroTitle').innerHTML = t.heroTitle;
            document.getElementById('heroSub').innerText = t.heroSub;
            document.getElementById('service1').innerText = t.service1;
            document.getElementById('desc1').innerText = t.desc1;
            document.getElementById('service2').innerText = t.service2;
            document.getElementById('desc2').innerText = t.desc2;
            document.getElementById('service3').innerText = t.service3;
            document.getElementById('desc3').innerText = t.desc3;
            document.getElementById('service4').innerText = t.service4;
            document.getElementById('desc4').innerText = t.desc4;
        } else {
            // Switch to English (by reloading the page to its default state)
            location.reload();
        }
    }
</script>
